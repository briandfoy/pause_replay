Newsgroups: perl.modules
Path: nntp.perl.org
Xref: nntp.perl.org perl.modules:94969
Return-Path: <neil.bowers@cogendo.com>
Mailing-List: contact modules-help@perl.org; run by ezmlm
Delivered-To: mailing list modules@perl.org
Received: (qmail 10088 invoked from network); 14 Apr 2016 14:34:06 -0000
Received: from x1.develooper.com (207.171.7.70) by x6.develooper.com with
 SMTP; 14 Apr 2016 14:34:06 -0000
Received: (qmail 3395 invoked by uid 225); 14 Apr 2016 14:34:06 -0000
Delivered-To: modules@perl.org
Received: (qmail 3390 invoked by alias); 14 Apr 2016 14:34:06 -0000
X-Spam-Status: No, hits=-2.6 required=8.0
 tests=BAYES_00,DKIM_SIGNED,DKIM_VALID,HTML_MESSAGE,RCVD_IN_DNSWL_LOW
X-Spam-Check-By: la.mx.develooper.com
Received: from mail-wm0-f42.google.com (HELO mail-wm0-f42.google.com)
 (74.125.82.42) by la.mx.develooper.com (qpsmtpd/0.28) with ESMTP; Thu, 14 Apr
 2016 07:33:56 -0700
Received: by mail-wm0-f42.google.com with SMTP id v188so223126935wme.1 for
 <modules@perl.org>; Thu, 14 Apr 2016 07:33:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=cogendo-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:subject:from:in-reply-to:date:cc:message-id:references :to;
 bh=8oRmmS8XeFiCRFdsCuTRD9zLAVGECZ5hKhluQk4J/dA=;
 b=Q4DDF0suXX/3RGDcN+eib9Jhl55Evd7LlMFgGK1HarP3ZzSuLoSmwIH2BI7L5wlRcl
 lJeLWQSIRZesDEMk2pKZyKIryh6WKKYrhyXl6Mh9jZl3Rf4WoPfw+SQfmwIzT8r/1j+3
 BAleV+52jHK0gYSi57/eKfN7XSUownWt/vWvtF/7anG80GI23spB3eEBpP1i/kazSUFJ
 qIDIKfkEv/GkybCbsUaF7MOX9QZC2F53YC+SFYjY1EjAqZccI7DDZSfRS6JiAM6TDY2F
 42e/zNElQZIuBohfbtIIipS5npgxRuOXVeQieIGXILwNNoG+R8bCoDmIJfmiNyTe6VaB CaSQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=1e100.net;
 s=20130820;
 h=x-gm-message-state:mime-version:subject:from:in-reply-to:date:cc
 :message-id:references:to; bh=8oRmmS8XeFiCRFdsCuTRD9zLAVGECZ5hKhluQk4J/dA=;
 b=XfDyUMkZJtGbUu+xc+YIaCew9qtHFGRUtoM1TM2QzpR0yYub6qbXLzWcRZeZz0Lp34
 2kXoy/T2TJlYWlXm7eMUeHn55YdglhaLxCiC6c9Fb+5d99vqRkYNcsetvVZcP8ubN9aL
 l3j1Utjwa2eH7sVO38O4YEHQ191irvSohqH/7EhMqwOJNvu/NGY+uNqgYqGdgwYHhbYU
 /VJ+3NTOo+LEV/f2mn6JmNeMaLA3nWXUMMgSHHCsU9w80jfJ9X16a+hUZxenC31MnYor
 WPg1nwYhZU6L7VLzGWf+LrSafQBb7s/FkVzFR0O2UtXEvVzvj5GvcDOmJs4dE6GFPD+I LNhQ==
X-Gm-Message-State:
 AOPr4FVyqcQzYqf6u+abtzFfRofbXaUKSe0O0RDnqt9r1lzeIVEGyLwBpZvX4knMjEHzvQ==
X-Received: by 10.28.142.5 with SMTP id q5mr14240228wmd.21.1460644424919;
 Thu, 14 Apr 2016 07:33:44 -0700 (PDT)
Received: from [192.168.0.13]
 (cpc96988-rdng25-2-0-cust147.15-3.cable.virginm.net. [82.13.18.148]) by
 smtp.gmail.com with ESMTPSA id k139sm6842436wmg.24.2016.04.14.07.33.43
 (version=TLS1 cipher=ECDHE-RSA-AES128-SHA bits=128/128); Thu, 14 Apr 2016
 07:33:43 -0700 (PDT)
Content-Type: multipart/alternative; boundary="Apple-Mail=_5867BE50-8AFE-4714-A982-59094D9AA0B7"
Mime-Version: 1.0 (Mac OS X Mail 9.2 \(3112\))
Subject: Re: Failed: PAUSE indexer report
 POPEFELIX/Mojo-UserAgent-Mockable-1.23.tar.gz
In-Reply-To:
 <CACwjgXYZTPCsKU9MUj+KFiMwYXHMvpXjTTDZg=Fq-Ghdy-oCxQ@mail.gmail.com>
Date: Thu, 14 Apr 2016 15:33:42 +0100
Cc: modules@perl.org
Message-ID: <C8133D40-AC93-47D0-BEE9-D892AA9B0AAA@cogendo.com>
References: <20160413194801.79B1B14D0@pause.perl.org>
 <CACwjgXYZTPCsKU9MUj+KFiMwYXHMvpXjTTDZg=Fq-Ghdy-oCxQ@mail.gmail.com>
To: Kit Peters <popefelix@gmail.com>
X-Mailer: Apple Mail (2.3112)
X-Virus-Checked: Checked
Approved: news@nntp.perl.org
From: neil.bowers@cogendo.com (Neil Bowers)

--Apple-Mail=_5867BE50-8AFE-4714-A982-59094D9AA0B7
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

Hi Kit,

> As you can see in the attached, the version of this module (1.23) is =
clearly higher than the previous version. Is this perhaps because dzil =
used the construction "$Mojo::UserAgent::Mockable::VERSION =3D '1.23';" =
rather than "our $VERSION =3D '1.23'"? Please advise.

If you look at the message from PAUSE:

> Status: Decreasing version number
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D
>=20
>      module : Mojo::UserAgent::Mockable
>      version: undef
>      in file: lib/Mojo/UserAgent/Mockable.pm
>      status : Not indexed because
>              =
Mojo-UserAgent-Mockable-1.21/lib/Mojo/UserAgent/Mockable.pm
>              in P/PO/POPEFELIX/Mojo-UserAgent-Mockable-1.21.tar.gz has =
a
>              higher version number (1.21)

It=E2=80=99s saying that there isn=E2=80=99t a version number for the =
package, but there was in a recent release.

If you look in the META.json shipped with your release, you=E2=80=99ll =
see the following:

   "provides" : {
      "Mojo::UserAgent::Mockable" : {
         "file" : "lib/Mojo/UserAgent/Mockable.pm"
      },
      "Mojo::UserAgent::Mockable::Request::Compare" : {
         "file" : "lib/Mojo/UserAgent/Mockable/Request/Compare.pm"
      },
      "Mojo::UserAgent::Mockable::Serializer" : {
         "file" : "lib/Mojo/UserAgent/Mockable/Serializer.pm"
      }
   },

If your dist=E2=80=99s metadata includes a =E2=80=9Cprovides=E2=80=9D =
section, then PAUSE won=E2=80=99t look at your code to determine =
packages and versions. And your provides section doesn=E2=80=99t have =
version numbers.

Then if we look at your dist.ini:

[MetaProvides::Package]
inherit_version =3D 0
inherit_missing =3D 0
meta_noindex =3D 1

You should set =E2=80=9Cinherit_version=E2=80=9D to 1, which tells DZ to =
assume that all packages have the same version number as the release. Or =
you could not set it, since the default is 1.

Cheers,
Neil


--Apple-Mail=_5867BE50-8AFE-4714-A982-59094D9AA0B7
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" =
class=3D"">Hi Kit,<div class=3D""><br class=3D""><div><blockquote =
type=3D"cite" class=3D""><div class=3D"">As you can see in the attached, =
the version of this module (1.23) is clearly higher than the previous =
version. Is this perhaps because dzil used the construction "<span =
class=3D"">$Mojo::UserAgent::Mockable::</span><span =
class=3D"">VERSION</span><span class=3D""> =3D '1.23';" rather than "our =
$VERSION =3D '1.23'"? Please advise.</span></div></blockquote><div><br =
class=3D""></div>If you look at the message from PAUSE:</div><div><br =
class=3D""><blockquote type=3D"cite" class=3D""><div class=3D""><div =
dir=3D"ltr" class=3D""><div class=3D"">Status: Decreasing version =
number<br class=3D""><div class=3D"gmail_quote">
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D<br class=3D"">
<br class=3D"">
&nbsp; &nbsp; &nbsp;module : Mojo::UserAgent::Mockable<br class=3D"">
&nbsp; &nbsp; &nbsp;<b class=3D"">version: undef</b><br class=3D"">
&nbsp; &nbsp; &nbsp;in file: lib/Mojo/UserAgent/Mockable.pm<br class=3D"">=

&nbsp; &nbsp; &nbsp;status : Not indexed because<br class=3D"">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =
&nbsp;Mojo-UserAgent-Mockable-1.21/lib/Mojo/UserAgent/Mockable.pm<br =
class=3D"">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;in =
P/PO/POPEFELIX/Mojo-UserAgent-Mockable-1.21.tar.gz has a<br class=3D"">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;higher version number =
(1.21)<br class=3D""></div></div></div></div></blockquote><br =
class=3D""></div><div>It=E2=80=99s saying that there isn=E2=80=99t a =
version number for the package, but there was in a recent =
release.</div><div><br class=3D""></div>If you look in the META.json =
shipped with your release, you=E2=80=99ll see the following:</div><div =
class=3D""><br class=3D""></div><blockquote style=3D"margin: 0 0 0 40px; =
border: none; padding: 0px;" class=3D""><div class=3D""><div =
class=3D""><font face=3D"Courier New" style=3D"font-size: 14px;" =
class=3D"">&nbsp; &nbsp;"provides" : {</font></div><div class=3D""><font =
face=3D"Courier New" style=3D"font-size: 14px;" class=3D"">&nbsp; &nbsp; =
&nbsp; "Mojo::UserAgent::Mockable" : {</font></div><div class=3D""><font =
face=3D"Courier New" style=3D"font-size: 14px;" class=3D"">&nbsp; &nbsp; =
&nbsp; &nbsp; &nbsp;"file" : =
"lib/Mojo/UserAgent/Mockable.pm"</font></div><div class=3D""><font =
face=3D"Courier New" style=3D"font-size: 14px;" class=3D"">&nbsp; &nbsp; =
&nbsp; },</font></div><div class=3D""><font face=3D"Courier New" =
style=3D"font-size: 14px;" class=3D"">&nbsp; &nbsp; &nbsp; =
"Mojo::UserAgent::Mockable::Request::Compare" : {</font></div><div =
class=3D""><font face=3D"Courier New" style=3D"font-size: 14px;" =
class=3D"">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"file" : =
"lib/Mojo/UserAgent/Mockable/Request/Compare.pm"</font></div><div =
class=3D""><font face=3D"Courier New" style=3D"font-size: 14px;" =
class=3D"">&nbsp; &nbsp; &nbsp; },</font></div><div class=3D""><font =
face=3D"Courier New" style=3D"font-size: 14px;" class=3D"">&nbsp; &nbsp; =
&nbsp; "Mojo::UserAgent::Mockable::Serializer" : {</font></div><div =
class=3D""><font face=3D"Courier New" style=3D"font-size: 14px;" =
class=3D"">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"file" : =
"lib/Mojo/UserAgent/Mockable/Serializer.pm"</font></div><div =
class=3D""><font face=3D"Courier New" style=3D"font-size: 14px;" =
class=3D"">&nbsp; &nbsp; &nbsp; }</font></div><div class=3D""><font =
face=3D"Courier New" style=3D"font-size: 14px;" class=3D"">&nbsp; =
&nbsp;},</font></div></div></blockquote><div class=3D""><br =
class=3D""></div><div class=3D"">If your dist=E2=80=99s metadata =
includes a =E2=80=9Cprovides=E2=80=9D section, then PAUSE won=E2=80=99t =
look at your code to determine packages and versions. And your provides =
section doesn=E2=80=99t have version numbers.</div><div class=3D""><br =
class=3D""></div><div class=3D"">Then if we look at your =
dist.ini:</div><div class=3D""><br class=3D""></div><blockquote =
style=3D"margin: 0 0 0 40px; border: none; padding: 0px;" class=3D""><div =
class=3D""><div class=3D"">[MetaProvides::Package]</div><div =
class=3D"">inherit_version =3D 0</div><div class=3D"">inherit_missing =3D =
0</div><div class=3D"">meta_noindex =3D 1</div></div></blockquote><div =
class=3D""><br class=3D""></div>You should set =E2=80=9Cinherit_version=E2=
=80=9D to 1, which tells DZ to assume that all packages have the same =
version number as the release. Or you could not set it, since the =
default is 1.<div class=3D""><br class=3D""></div><div =
class=3D"">Cheers,</div><div class=3D"">Neil<br class=3D""><div =
class=3D""><br class=3D""></div></div></body></html>=

--Apple-Mail=_5867BE50-8AFE-4714-A982-59094D9AA0B7--
