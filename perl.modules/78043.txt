Newsgroups: perl.modules
Path: nntp.perl.org
Xref: nntp.perl.org perl.modules:78043
Return-Path: <cjfields1@gmail.com>
Mailing-List: contact modules-help@perl.org; run by ezmlm
Delivered-To: mailing list modules@perl.org
Delivered-To: moderator for modules@perl.org
Received: (qmail 28297 invoked from network); 15 Oct 2011 15:03:11 -0000
Received: from x1.develooper.com (207.171.7.70)
  by x6.develooper.com with SMTP; 15 Oct 2011 15:03:11 -0000
Received: (qmail 23723 invoked by uid 225); 15 Oct 2011 15:03:11 -0000
Delivered-To: modules@perl.org
Received: (qmail 23719 invoked by alias); 15 Oct 2011 15:03:10 -0000
X-Spam-Status: No, hits=-0.7 required=8.0
	tests=DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: la.mx.develooper.com
Received: from mail-iy0-f169.google.com (HELO mail-iy0-f169.google.com) (209.85.210.169)
    by la.mx.develooper.com (qpsmtpd/0.28) with ESMTP; Sat, 15 Oct 2011 08:03:05 -0700
Received: by iagf6 with SMTP id f6so3482302iag.14
        for <modules@perl.org>; Sat, 15 Oct 2011 08:03:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=+7Cri4Aq92jSaOyINUVHEt9Hs4H+5b42UM99p+M4cBc=;
        b=qMAatc8GqG3YaPZswQBfJQiQLGppl1q5OecWeZXHcqiy7GRaccaJ+clWlDkebG4vEy
         Xt7BFO7/DRkmK42IrjSColg1jSj2nhDDKObcHJB9+DfkS2fhIbFqImeLOWjwxF25PVTH
         84zJUMMdQfHytgB9r+cUWZqOvGI9tLgTDHIF8=
Received: by 10.231.5.225 with SMTP id 33mr5721003ibw.3.1318690679841;
        Sat, 15 Oct 2011 07:57:59 -0700 (PDT)
Received: from [192.168.2.2] (c-98-212-153-255.hsd1.il.comcast.net. [98.212.153.255])
        by mx.google.com with ESMTPS id p16sm18514897ibk.6.2011.10.15.07.57.56
        (version=TLSv1/SSLv3 cipher=OTHER);
        Sat, 15 Oct 2011 07:57:57 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1251.1)
Subject: Re: Failed index again
In-Reply-To: <8762jqbzc3.fsf@franz.ak.mind.de>
Date: Sat, 15 Oct 2011 09:57:55 -0500
Content-Transfer-Encoding: quoted-printable
Message-ID: <427277DB-D79D-4CC2-B417-851A617A3213@gmail.com>
References: <201110131627.p9DGR8X4032514@pause.fiz-chemie.de> <A8C91D63-FA5B-4C46-AA71-E74EF68AF757@gmail.com> <141020111101235954%brian.d.foy@gmail.com> <8762jqbzc3.fsf@franz.ak.mind.de>
To: modules@perl.org
X-Mailer: Apple Mail (2.1251.1)
Approved: news@nntp.perl.org
From: cjfields1@gmail.com (Christopher Fields)

On Oct 15, 2011, at 12:25 AM, Andreas J. Koenig wrote:

>>>>>> On Fri, 14 Oct 2011 11:01:23 -0500, brian d foy =
<brian.d.foy@gmail.com> said:
>=20
> bdf> [[ This message was both posted and mailed: see
> bdf>    the "To," "Cc," and "Newsgroups" headers for details. ]]
>=20
> bdf> In article <A8C91D63-FA5B-4C46-AA71-E74EF68AF757@gmail.com>,
> bdf> Christopher Fields <cjfields1@gmail.com> wrote:
>=20
>>> I have no idea why this is not being indexed; is it due to the =
module
>>> versions in the META.yml file?
>>>=20
>>> Copy of META.yml and error message here:
>>>=20
>>> https://gist.github.com/1284795
>>>=20
>>> I had this problem before with BioPerl-DB, it seems specific to the
>>> 'provides' section, which is being autogenerated via Module::Build =
and
>>> './Build dist'.   Maybe the 'version' =3D 0?
>=20
> bdf> Why are the module versions 0? That seems really odd. Is that the
> bdf> version in the module?
>=20
> I find at least two bugs involved. One is that META.yml is lying: it
> reports versions to be 0 even though the modules in that package all
> assign no version at all. The second bug was in the indexer that did =
not
> treat a version of zero as a proper version number.
>=20
> I've fixed the bug in the indexer and now
> CJFIELDS/BioPerl-Network-1.006901.tar.gz is indexed. I cannot =
guarantee
> that this will work well for the enduser because endusers will have
> modules without version numbers installed and they (or their software)
> will possibly conclude that CPAN has indexed a different version than
> what they have installed.
>=20
> If I were a user I would probably report the missing versions as a bug
> in the BioPerl-Network package.
>=20
> All that said, thanks to Christopher for finding and reporting the bug
> in the indexer. Would you fancy to bring the issue also to the =
attention
> of the Module::Build people?
>=20
> bdf> What happens if they are not zero?
>=20
> Now this would be boring, everything would simply work:)
>=20
> --=20
> andreas

Oh, I'm sure lack of version is a bug in the main bioperl code; there is =
a long-standing and very hacky way of assigning VERSION to all bioperl =
modules that has caused headaches, and the current build process seems =
to bypass that.   We're switching to Dist::Zilla for assigning specific =
versions, as we're breaking up BioPerl into smaller easier-to-maintain =
distributions.  But the "version =3D> '0'" is definitely off, so I'll =
bring it up with the Module::Build folks.

chris

